<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PhotoCloset</title>

    <script type="text/javascript" src="assets/js/jquery-3.2.0.min.js"></script>
    <script type="text/javascript" src="assets/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="assets/js/angular.js"></script>

    <script type="text/javascript" src="app.js"></script>

    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/css/bootstrap-theme.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body ng-app="photocloset">
    <div class="container">
        <div class="col-md-8 col-md-offset-2">
            <div class="logoContainer">
                <img class="img-responsive" src="assets/images/closet.png">
                <h1>Photo Closet</h1>
            </div>
            <div class="uploadFormContainer" ng-controller="formController">
                <div class="imageContainer">
                    <div class="col-md-12">
                        <input type="image" id="imagePreview" class="img-responsive" src="assets/images/placeholder.png">
                        <input type="file" id="my_file" file-uploader-model="file" style="display: none;" onchange="previewFile()"/>
                    </div>
                </div>
                <button class="btn" ng-click="uploadFile()">Upload</button>
            </div>
        </div>
    </div>


    <script>
        $("input[type='image']").click(function() {
            $("input[id='my_file']").click();
        });

        function previewFile() {

                var preview = document.getElementById('imagePreview');
                var file    = document.querySelector('input[type=file]').files[0];
                var reader  = new FileReader();

                reader.onloadend = function () {
                    preview.src = reader.result;
                }

                if (file) {
                    reader.readAsDataURL(file);
                } else {
                    preview.src = "assets/images/placeholder.png";
                }

        }
    </script>
</body>
</html>